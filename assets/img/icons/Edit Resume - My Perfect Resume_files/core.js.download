window.PS=window.PS||{},window.skipGTMCookieConsentLoad=true,PS.SKIP_SEGMENT_SCRIPT=true,PS.isMagenta=false;let cJs_EBAPI_Url="",cJs_Default_Scripts=(PS.ErrorSettings={allowedjs:[],logToSeq:false},window.onerror=function(e,t,o,r,a){try{var n;if(PS.ErrorSettings.logToSeq)return n={errMsg:e,url:t,line:o,column:r,error:a},PS.Utility.writeSeqLog(n),0}catch{}},PS.Utility={call_AjaxV1:async function(e,t,o,r,a,n=!0){t={method:t,headers:{Accept:"application/json","Content-Type":"application/json"}};n&&(t.credentials="include"),o&&(t.body=JSON.stringify(o));try{var i=await(await fetch(e,t)).json();return r&&r(i),i}catch(e){a&&r&&r()}},loadJs:function(e,t){var o=document.createElement("script");o.type="text/javascript",o.src=e,o.async=null==t||t,PS.ErrorSettings.logToSeq&&(o.crossOrigin="anonymous"),(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(o,e)},get_Cookie:function(e){var t=document.cookie,o=t.indexOf(" "+e+"=");return t=-1==(o=-1==o?t.indexOf(e+"="):o)?null:(o=t.indexOf("=",o)+1,-1==(e=t.indexOf(";",o))&&(e=t.length),unescape(t.substring(o,e)))},getDeviceType:function(){var e,t=PS.isMagenta?'':"visitinfo",t=this.get_Cookie(t);return t&&-1!==t.indexOf("DeviceType")&&(e=t.indexOf("DeviceType"),e=t.substring(e).split("]&[")[0].split(",")[1].trim()),e=e||(navigator.userAgent.match(/iPad|Tablet|PlayBook/i)?"tablet":navigator.userAgent.match(/Mobile|Android|webOS|iPhone|iPod|Blackberry/i)?"mobile":"desktop")},addGtm:function(e,t,o,r,a){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});e=t.getElementsByTagName(o)[0],t=t.createElement(o),o="dataLayer"!=r?"&l="+r:"";t.async=!0,t.src="https://www.googletagmanager.com/gtm.js?id="+a+o,e.parentNode.insertBefore(t,e)},getParameterByName:function(e){return new window.URLSearchParams(window.location.search).get(e)},readCookie:function(e){var t;for(t of document.cookie.split("; ")){var[o,r]=t.split("=");if(o===e)return decodeURIComponent(r)}return null},set_Cookie:function(e,t,o){var r=new Date,t=(r.setDate(r.getDate()+o),escape(t)+(null==o?"":"; expires="+r.toUTCString()));domain=".myperfectresume.com";document.cookie=e+"="+t+";SameSite=None; Secure;domain="+domain+";path=/"},isStorageEnabled:function(){try{return localStorage.length,!0}catch{return!1}},writeSeqLog:function(e){let t=e.url;t&&t.includes(".js")&&PS.ErrorSettings.allowedjs.some(e=>t.includes(e))&&(e={sourceAppCD:"PRMLUS",errorMessage:e.errMsg,componentStack:e.error?e.error.message+e.error.stack:"",portalCD:"MPR"},this.call_AjaxV1(cJs_EBAPI_Url+"v2/errors/log","POST",e,null,!1,!0))}},[{"Cookie-Consent":{"loadingStrategy":2}},{"Segment":{"loadingStrategy":2}},{"GTM-Primary":{"loadingStrategy":2}},{"GTM-Secondry":{"loadingStrategy":2}},{"Cookie-Consent-CCPA":{"loadingStrategy":2,"geoBased":true}}]),cJs_Exclude_Scripts={"wpcore":["GTM-Secondry","Segment"]},cjs_CreatePnameCookie=false,cJs_Include_Scripts=[{"wpcore":[{"Segment":{"loadingStrategy":2,"Device":[1,2]}},{"Segment-Mobile":{"loadingStrategy":2,"Device":[3]}}]},{"ecl":[{"ExpProfile":{"loadingStrategy":2}}]}],cJs_Paths={"Cookie-Consent":"https://assets.myperfectresume.com/blob/common/consent-manager/cookie-consent.min.js","Cookie-Consent-CCPA":"https://assets.myperfectresume.com/blob/common/consent-manager/cookie-consent-ccpa.min.js","GTM-Primary":"https://www.googletagmanager.com/gtm.js?id=GTM-NXP87FS","GTM-Secondry":"https://www.googletagmanager.com/gtm.js?id=GTM-KQ55PV6","Segment":"https://assets.myperfectresume.com/common/js/segment.js","Segment-Mobile":"https://www.myperfectresume.com/wp-content/themes/myperfectresume/js/switchSegmentServer.js","ExpProfile":"https://assets.myperfectresume.com/common/js/experimentprofile.js"},cJs_productName=(PS.StrgEnabled=PS.Utility.isStorageEnabled(),PS.COREJS_PRODUCT_NAME||"");if(!cJs_productName&&0<cJs_Include_Scripts.length&&0<Object.keys(cJs_Exclude_Scripts).length)throw new Error("product name can not be empty");cjs_CreatePnameCookie&&cJs_productName&&PS.Utility.set_Cookie("p_name",cJs_productName,null);let cJs_deviceType=PS.Utility.getDeviceType(),cJs_isLoadedAfterWindowload=["mpcore_lp","core_dsb","core_setting","core_personaldata","builder","ecl","jra_stg_w_cor","jra_prd_w_cor","rwzbld_prd_w_cor","mprsem_prd_w_cor","dsb_prd_w_cor","dsb_stg_w_cor","jobs_prd_w_cor","jobs_stg_w_cor","usrset_prd_w_cor","usrset_stg_w_cor","chk_prd_w_cor","chk_stg_w_cor","rsmrw_prd_w_cor","rsmrw_stg_w_cor","rwzbldnx_stg_w_cor","rwzbldnx_prd_w_cor","dsb_ft","mpcbld_prd_w_cor","pwb_prd_w_cor"].includes(cJs_productName),geoRegions={GDPR:["AD","AM","AT","BY","BE","BA","BG","CH","CY","CZ","DE","DK","EE","ES","FO","FI","FR","GB","GE","GI","GR","HU","HR","IE","IS","IT","LT","LU","LV","MC","MK","MT","NO","NL","PL","PO","PT","RO","RU","SE","SI","SK","SM","TR","UA","UK","VA","GF","MQ","GP","MF","YT","RE","CA","LI","CO","UY","BR"],CCPA:[{US:[]},{PR:[]}]},cJs_Geobased_Scripts=[],cJs_loadGeobasedJS=!1;PS.CoreJS=(i=>(i.LoadStrategy={EAGER:1,ONLOAD:2,CUSTOM:3},i.DeviceType={desktop:1,tablet:2,mobile:3},i.gtmStarted=!1,i.getScriptsToLoad=function(){if(void 0!==cJs_Default_Scripts){let t=cJs_productName.toLowerCase();var e=cJs_Include_Scripts.filter(e=>Object.keys(e).includes(t));let r=cJs_Default_Scripts,a=cJs_Exclude_Scripts[t],n=(r=[...cJs_Default_Scripts,...""],Array.isArray(a)&&cJs_Default_Scripts.forEach((e,t)=>{let o=Object.keys(e)[0];a.includes(o)&&(r=r.filter(e=>!Object.keys(e).includes(o)))}),Array.isArray(e)&&0<e.length&&(e=e[0][t],r=[...r,...e]),[]);return r.forEach((e,t)=>{let o={};var r=Object.keys(e)[0];Object.values(e)[0].Device&&!Object.values(e)[0].Device.includes(i.DeviceType[cJs_deviceType])||(o={Name:r,Path:cJs_Paths[r],loadingStrategy:Object.values(e)[0].loadingStrategy,geoBased:Object.values(e)[0].geoBased||!1,order:Object.values(e)[0].Order}),0<Object.keys(o).length&&n.push(o)}),n.sort((e,t)=>t.Order||0-e.Order||0)}},i.LoadCCPAScript=function(e,t){geoRegions.CCPA.some(e=>e.hasOwnProperty(t))&&e&&PS.Utility.loadJs(e,!0)},i.LoadGDPRScript=function(e,t){geoRegions.GDPR.includes(t)&&e&&PS.Utility.loadJs(e,!0)},i.LoadProductScripts=function(o){var e=i.scriptsToload||i.getScriptsToLoad();Array.isArray(e)&&((i.scriptsToload=e).forEach((e,t)=>{e.loadingStrategy==o&&e.Path&&(e.Path.includes("gtm.js")&&!i.gtmStarted?(i.gtmStarted=!0,PS.Utility.addGtm(window,document,"script","dataLayer",e.Path.split("?id=")[1])):e.geoBased?(cJs_Geobased_Scripts.push({Name:e.Name,Path:e.Path,loadingStrategy:e.loadingStrategy}),cJs_loadGeobasedJS=!0):e.Path.includes("apienc")&&!PS.EnableEncryption||PS.Utility.loadJs(e.Path,!0))}),cJs_loadGeobasedJS)&&i.loadGeoLocationBasedScripts(cJs_Geobased_Scripts)},i.getCountryAndState=async function(){let e=PS.Utility.get_Cookie("testcountry")||PS.Utility.getParameterByName("testcountry"),t=PS.Utility.getParameterByName("teststate");var o;return e||(o=await i.getCountryAndStateFromGeoRegionCookie(),e=o[0],t=o[1]),e&&(e=e.toUpperCase(),PS.StrgEnabled)&&localStorage.setItem("CurrentCountry",e),t&&(t=t.toUpperCase(),PS.StrgEnabled)&&localStorage.setItem("CurrentState",t),[e,t]},i.getCountryAndStateFromGeoRegionCookie=async function(){var t=[],o=decodeURIComponent(PS.Utility.readCookie("x-georegion"));let r=!0;if(o&&"null"!==o&&"undefined"!==o){o=o.split(",");t[0]=o[1],t[1]=o[2]}else{r=!1;var o=PS.StrgEnabled&&localStorage.getItem("CurrentCountry"),a=PS.StrgEnabled&&localStorage.getItem("CurrentState");let e=null;o?(t[0]=o,t[1]=a):(e=PS.isMagenta&&PS.EnableEncryption?await(e=await i.getCountryFromCountryClaim(!0)).json():await i.getCountryFromCountryClaim(!0),t[0]=e&&e.countryCode||"",t[1]=e&&e.state||"")}if(r&&(!t[0]||!t[1])){let e=await i.getCountryFromCountryClaim(!0);PS.isMagenta&&PS.EnableEncryption&&(e=await e.json()),t[0]=e&&e.countryCode||"",t[1]=e&&e.state||""}return t},i.getCountryFromCountryClaim=async function(e=!1,t){let r=(cJs_EBAPI_Url=cJs_EBAPI_Url||window.location.origin+"/eb/api/")+"v1/user/countryclaims"+(e?"?isfallbackSeqLog="+e:"");return PS.isMagenta&&PS.EnableEncryption?new Promise(function(t,e){var o=setInterval(async function(){var e;"undefined"!=typeof MsgUtil&&MsgUtil&&"function"==typeof PS.APIEncryption.fetch&&(clearInterval(o),e=PS.APIEncryption.fetch(r,"GET",!0,!0,!0),t(e)),0},800)}):PS.Utility.call_AjaxV1(r,"GET",null,function(e){temp=e},null,!1)},i.eagerLoadDependentScripts=function(){i.LoadProductScripts(i.LoadStrategy.EAGER)},i.loadDependentScriptsAfterOnLoad=function(){i.LoadProductScripts(i.LoadStrategy.ONLOAD)},i.loadGeoLocationBasedScripts=function(r){i.getCountryAndState().then(e=>{var t,o,e=[e[0]][0];PS.StrgEnabled&&localStorage.setItem("ConsentType",geoRegions.GDPR.includes(e)?"GDPR":["US","PR"].includes(e)?"CCPA":"NONE"),Array.isArray(r)&&(t=r.filter(e=>"COOKIE-CONSENT-CCPA"==e.Name.toUpperCase())[0],o=r.filter(e=>"COOKIE-CONSENT"==e.Name.toUpperCase())[0],t&&i.LoadCCPAScript(t.Path,e),o)&&i.LoadGDPRScript(o.Path,e)})},PS.customLoadCommonJSScripts=function(){i.LoadProductScripts(i.LoadStrategy.CUSTOM)},i))(PS.CoreJS||{}),PS.CoreJS.eagerLoadDependentScripts(),window.addEventListener("load",function(){cJs_isLoadedAfterWindowload||PS.CoreJS.loadDependentScriptsAfterOnLoad()}),cJs_isLoadedAfterWindowload&&PS.CoreJS.loadDependentScriptsAfterOnLoad();